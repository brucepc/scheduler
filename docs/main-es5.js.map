{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth-client-interceptor.ts","webpack:///src/app/auth/auth-token-interceptor.ts","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","canActivate","loadChildren","m","SchedulerModule","LoginModule","AppRoutingModule","forRoot","imports","AppComponent","selector","templateUrl","AppModule","config","tokenGetter","_","sessionStorage","getItem","blacklistedRoutes","declarations","bootstrap","AuthClientInterceptor","authConfig","auth","next","request","clone","headers","set","getBasicAuthToken","handle","basicToken","btoa","clientId","clientSecret","AuthTokenInterceptor","isAuthenticated","getAccessTokenAuthorization","console","log","accessToken","getAccessToken","AuthGuard","router","state","parseUrl","loginUrl","providedIn","AuthModule","provide","useClass","multi","providers","AuthService","httpClient","helperService","redirectUrl","username","password","login","endpoint","payload","FormData","append","grantType","post","pipe","token","saveToken","decoed","decodeToken","setTimeout","getValidToken","expires_in","access_token","refresh_token","setItem","clear","isTokenExpired","location","href","hostAddress","environment","production","singup","bootstrapModule","err","error"],"mappings":";;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,QAAMC,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,WADR;AAEEC,iBAAW,EAAE,CAAC,0DAAD,CAFf;AAGEC,kBAAY,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA,oDAAuCX,IAAvC,CAA4C,UAAAY,CAAC;AAAA,iBAAIA,CAAC,CAACC,eAAN;AAAA,SAA7C,CAAN;AAAA;AAHhB,KADqB,EAMrB;AACEJ,UAAI,EAAE,EADR;AAEEE,kBAAY,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA,4CAA+BX,IAA/B,CAAoC,UAAAY,CAAC;AAAA,iBAAIA,CAAC,CAACE,WAAN;AAAA,SAArC,CAAN;AAAA;AAFhB,KANqB,CAAvB;;QAgBaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAHlB,CAAC,6DAAaC,OAAb,CAAqBR,MAArB,CAAD,CAGkB,EAFjB,4DAEiB;;;;0HAAhBO,gB,EAAgB;AAAA;AAAA,kBAFjB,4DAEiB;AAAA,O;AAFL,K;;;;;sEAEXA,gB,EAAgB;cAJ5B,sDAI4B;eAJnB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBR,MAArB,CAAD,CADD;AAERF,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAImB,Q;;;;;;;;;;;;;;;;;;ACrB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaY,Y,GACX,wBAAc;AAAA;AACb,K;;;uBAFUA,Y;AAAY,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACNzB;;;;;;;;;sEDMaA,Y,EAAY;cAJxB,uDAIwB;eAJd;AACTC,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE;AAFJ,S;AAIc,Q;;;;;;;;;;;;;;;;;;;;AENzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QA+BaC,S;;;;;YAAAA,S;AAAS,kBAFR,2DAEQ;;;;yBAATA,S;AAAS,O;AAAA,gBAjBX,CACP,uEADO,EAEP,oEAFO,EAGP,qEAHO,EAIP,4FAJO,EAKP,6DAAUL,OAAV,CAAkB;AAChBM,cAAM,EAAE;AACNC,qBAAW,EAAE,qBAAAC,CAAC;AAAA,mBAAIC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAJ;AAAA,WADR;AAENC,2BAAiB,EAAE,CACjB,cADiB;AAFb;AADQ,OAAlB,CALO,EAaP,4DAbO,CAiBW;;;;0HAATN,S,EAAS;AAAA,uBAnBlB,2DAmBkB;AAnBN,kBAGZ,uEAHY,EAIZ,oEAJY,EAKZ,qEALY,EAMZ,4FANY,EAMW,4DANX,EAeZ,4DAfY;AAmBM,O;AAJR,K;;;;;sEAIDA,S,EAAS;cArBrB,sDAqBqB;eArBZ;AACRO,sBAAY,EAAE,CACZ,2DADY,CADN;AAIRX,iBAAO,EAAE,CACP,uEADO,EAEP,oEAFO,EAGP,qEAHO,EAIP,4FAJO,EAKP,6DAAUD,OAAV,CAAkB;AAChBM,kBAAM,EAAE;AACNC,yBAAW,EAAE,qBAAAC,CAAC;AAAA,uBAAIC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAJ;AAAA,eADR;AAENC,+BAAiB,EAAE,CACjB,cADiB;AAFb;AADQ,WAAlB,CALO,EAaP,4DAbO,CAJD;AAmBRE,mBAAS,EAAE,CAAC,2DAAD;AAnBH,S;AAqBY,Q;;;;;;;;;;;;;;;;;;AC/BtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,qB;AADb;AAAA;;AAEU,aAAAC,UAAA,GAAa,sEAAYC,IAAzB;AAaT;;;;kCAXWnC,G,EAAuBoC,I,EAAiB;AAChD,cAAMC,OAAO,GAAGrC,GAAG,CAACsC,KAAJ,CAAU;AACxBC,mBAAO,EAAEvC,GAAG,CAACuC,OAAJ,CAAYC,GAAZ,CAAgB,eAAhB,EAAiC,KAAKC,iBAAL,EAAjC;AADe,WAAV,CAAhB;AAGA,iBAAOL,IAAI,CAACM,MAAL,CAAYL,OAAZ,CAAP;AACD;;;4CAEwB;AACvB,cAAMM,UAAU,GAAGC,IAAI,WAAI,KAAKV,UAAL,CAAgBW,QAApB,cAAgC,KAAKX,UAAL,CAAgBY,YAAhD,EAAvB;AACA,iCAAgBH,UAAhB;AACD;;;;;;;uBAbUV,qB;AAAqB,K;;;aAArBA,qB;AAAqB,eAArBA,qBAAqB;;;;;sEAArBA,qB,EAAqB;cADjC;AACiC,Q;;;;;;;;;;;;;;;;;;ACJlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAIac,oB;AAEX,oCACUZ,IADV,EAC2B;AAAA;;AAAjB,aAAAA,IAAA,GAAAA,IAAA;AAET;;;;kCAESnC,G,EAAuBoC,I,EAAiB;AAChD,cAAI,CAAC,KAAKD,IAAL,CAAUa,eAAV,EAAL,EAAkC;AAChC,mBAAOZ,IAAI,CAACM,MAAL,CAAY1C,GAAZ,CAAP;AACD;;AAED,cAAMqC,OAAO,GAAGrC,GAAG,CAACsC,KAAJ,CAAU;AACxBC,mBAAO,EAAEvC,GAAG,CAACuC,OAAJ,CAAYC,GAAZ,CAAgB,eAAhB,EAAiC,KAAKS,2BAAL,EAAjC;AADe,WAAV,CAAhB;AAGAC,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBd,OAAO,CAACE,OAA/B;AACA,iBAAOH,IAAI,CAACM,MAAL,CAAYL,OAAZ,CAAP;AACD;;;sDAEkC;AACjC,cAAMe,WAAW,GAAG,KAAKjB,IAAL,CAAUkB,cAAV,EAApB;AACA,kCAAiBD,WAAjB;AACD;;;;;;;uBAtBUL,oB,EAAoB,iH;AAAA,K;;;aAApBA,oB;AAAoB,eAApBA,oBAAoB;;;;;sEAApBA,oB,EAAoB;cADhC;AACgC,Q;;;;;;;;;;;;;;;;;;;;;;ACNjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaO,S;AACX,yBACUnB,IADV,EAEUoB,MAFV,EAEwB;AAAA;;AADd,aAAApB,IAAA,GAAAA,IAAA;AACA,aAAAoB,MAAA,GAAAA,MAAA;AAET;;;;oCAGCnB,I,EACAoB,K,EAA0B;AAC1B,cAAI,KAAKrB,IAAL,CAAUa,eAAV,EAAJ,EAAiC;AAC/B,mBAAO,IAAP;AACD;;AACD,iBAAO,KAAKO,MAAL,CAAYE,QAAZ,CAAqB,KAAKtB,IAAL,CAAUuB,QAA/B,CAAP;AACD;;;;;;;uBAdUJ,S,EAAS,iH,EAAA,8G;AAAA,K;;;aAATA,S;AAAS,eAATA,SAAS,K;AAAA,kBAFR;;;;;sEAEDA,S,EAAS;cAHrB,wDAGqB;eAHV;AACVK,oBAAU,EAAE;AADF,S;AAGU,Q;;;;;;;;;;;;;;;;;;;;;;;;ACRtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAqBaC,U;;;;;YAAAA;;;;yBAAAA,U;AAAU,O;AAAA,iBAPV,CACT,qDADS,EAET,yDAFS,EAGT,4EAHS,EAIT;AAACC,eAAO,EAAE,sEAAV;AAA6BC,gBAAQ,EAAE,8EAAvC;AAA8DC,aAAK,EAAE;AAArE,OAJS,EAKT;AAACF,eAAO,EAAE,sEAAV;AAA6BC,gBAAQ,EAAE,4EAAvC;AAA6DC,aAAK,EAAE;AAApE,OALS,C;AAKiE,gBARnE,CACP,4DADO,CAQmE;;;;0HAEjEH,U,EAAU;AAAA,kBATnB,4DASmB;AAAA,O;AATP,K;;;;;sEASHA,U,EAAU;cAZtB,sDAYsB;eAZb;AACR7B,sBAAY,EAAE,EADN;AAERX,iBAAO,EAAE,CACP,4DADO,CAFD;AAKR4C,mBAAS,EAAE,CACT,qDADS,EAET,yDAFS,EAGT,4EAHS,EAIT;AAACH,mBAAO,EAAE,sEAAV;AAA6BC,oBAAQ,EAAE,8EAAvC;AAA8DC,iBAAK,EAAE;AAArE,WAJS,EAKT;AAACF,mBAAO,EAAE,sEAAV;AAA6BC,oBAAQ,EAAE,4EAAvC;AAA6DC,iBAAK,EAAE;AAApE,WALS;AALH,S;AAYa,Q;;;;;;;;;;;;;;;;;;ACrBvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAcC;;QAKYE,W;AAKX,2BACUC,UADV,EAEUC,aAFV,EAEyC;AAAA;;AAD/B,aAAAD,UAAA,GAAAA,UAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AANF,aAAAjC,UAAA,GAAa,sEAAYC,IAAzB;AACA,aAAAiC,WAAA,GAAc,YAAd;AACD,aAAAV,QAAA,GAAW,QAAX;AAMN;;;;8BAEKW,Q,EAAkBC,Q,EAAkB;AAAA;;AAAA,cACjCC,KADiC,GACxB,KAAKrC,UAAL,CAAgBsC,QADQ,CACjCD,KADiC;AAExC,cAAME,OAAO,GAAG,IAAIC,QAAJ,EAAhB;AACAD,iBAAO,CAACE,MAAR,CAAe,UAAf,EAA2BN,QAA3B;AACAI,iBAAO,CAACE,MAAR,CAAe,UAAf,EAA2BL,QAA3B;AACAG,iBAAO,CAACE,MAAR,CAAe,YAAf,EAA6B,KAAKzC,UAAL,CAAgB0C,SAA7C;AACA,iBAAO,KAAKV,UAAL,CAAgBW,IAAhB,CAA4BN,KAA5B,EAAmCE,OAAnC,EACJK,IADI,CACC,2DAAI,UAAAC,KAAK,EAAI;AACjB,iBAAI,CAACC,SAAL,CAAeD,KAAf;;AACA,gBAAME,MAAM,GAAG,KAAI,CAACd,aAAL,CAAmBe,WAAnB,EAAf;;AACAC,sBAAU,CAAC,UAAAxD,CAAC,EAAI;AACd,mBAAI,CAACyD,aAAL;AACD,aAFS,EAEPL,KAAK,CAACM,UAFC,CAAV;AAGD,WANK,CADD,CAAP;AAQD;;;wCAEgD;AAAA,cAA9BC,YAA8B,QAA9BA,YAA8B;AAAA,cAAhBC,aAAgB,QAAhBA,aAAgB;AAC/C3D,wBAAc,CAAC4D,OAAf,CAAuB,cAAvB,EAAuCF,YAAvC;AACA1D,wBAAc,CAAC4D,OAAf,CAAuB,eAAvB,EAAwCD,aAAxC;AACD;;;yCAEgB;AACf,iBAAO3D,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAP;AACD;;;iCAEQ;AACPD,wBAAc,CAAC6D,KAAf;AACD;;;0CAEiB;AAChBvC,iBAAO,CAACC,GAAR,CAAY,kBAAZ,EACE,KAAKgB,aAAL,CAAmBzC,WAAnB,EADF,EAEE,KAAKyC,aAAL,CAAmBuB,cAAnB,EAFF,EAGE,KAAKvB,aAAL,CAAmBe,WAAnB,EAHF;AAKA,iBAAO,CAAC,CAAC,KAAKf,aAAL,CAAmBzC,WAAnB,EAAF,IAAsC,CAAC,KAAKyC,aAAL,CAAmBuB,cAAnB,EAA9C;AAED;;;oCAEW;AACV,iBAAO,KAAKvB,aAAL,CAAmBe,WAAnB,EAAP;AACD;;;6CAEoB;AACnBS,kBAAQ,CAACC,IAAT,GAAgB,KAAKxB,WAArB;AACD;;;wCAEe;AAAA;;AAAA,cACPG,KADO,GACE,KAAKrC,UAAL,CAAgBsC,QADlB,CACPD,KADO;;AAEd,cAAI,KAAKJ,aAAL,CAAmBuB,cAAnB,EAAJ,EAAyC;AACvC,mBAAO,KAAKxB,UAAL,CAAgBW,IAAhB,CAA4BN,KAA5B,EAAmC;AAAC,4BAAc;AAAf,aAAnC,EACJO,IADI,CAEH,2DAAI,UAAAC,KAAK;AAAA,qBAAI,MAAI,CAACC,SAAL,CAAeD,KAAf,CAAJ;AAAA,aAAT,CAFG,EAGH,2DAAI;AAAA,kBAAEO,YAAF,SAAEA,YAAF;AAAA,qBAAoBA,YAApB;AAAA,aAAJ,CAHG,CAAP;AAKD;;AACD,iBAAO,gDAAG,KAAKjC,cAAL,EAAH,CAAP;AACD;;;;;;;uBApEUY,W,EAAW,uH,EAAA,2H;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACVN,oBAAU,EAAE;AADF,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;;;ACnBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA,gK,CAAA;AACA;AACA;;;AACA,QAAMkC,WAAW,GAAG,uBAApB;AACO,QAAMC,WAAW,GAAG;AACzBC,gBAAU,EAAE,KADa;AAEzBF,iBAAW,YAAKA,WAAL,CAFc;AAGzB1D,UAAI,EAAE;AACJqC,gBAAQ,EAAE;AACRD,eAAK,YAAKsB,WAAL,iBADG;AAERG,gBAAM,YAAKH,WAAL;AAFE,SADN;AAKJhD,gBAAQ,EAAE,yBALN;AAMJC,oBAAY,EAAE,+BANV;AAOJ8B,iBAAS,EAAE;AAPP;AAHmB,KAApB;AAcP;;;;;;;AAOkC;;;;;;;;;;;;;;;;;ACzBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYmB,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBE,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIhD,OAAO,CAACiD,KAAR,CAAcD,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {AuthGuard} from \"./auth/auth.guard\";\n\n\nconst routes: Routes = [\n  {\n    path: 'scheduler',\n    canActivate: [AuthGuard],\n    loadChildren: () => import('./scheduler/scheduler.module').then(m => m.SchedulerModule)\n  },\n  {\n    path: '',\n    loadChildren: () => import('./login/login.module').then(m => m.LoginModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  constructor() {\n  }\n\n\n}\n","<router-outlet></router-outlet>\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {JwtModule} from \"@auth0/angular-jwt\";\nimport {AuthModule} from \"./auth/auth.module\";\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    JwtModule.forRoot({\n      config: {\n        tokenGetter: _ => sessionStorage.getItem('access_token'),\n        blacklistedRoutes: [\n          '/oauth/token'\n        ]\n      }\n    }),\n    AuthModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {environment} from \"../../environments/environment\";\n\n@Injectable()\nexport class AuthClientInterceptor implements HttpInterceptor {\n  private authConfig = environment.auth;\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const request = req.clone({\n      headers: req.headers.set('Authorization', this.getBasicAuthToken())\n    });\n    return next.handle(request);\n  }\n\n  private getBasicAuthToken(): string {\n    const basicToken = btoa(`${this.authConfig.clientId}:${this.authConfig.clientSecret}`);\n    return `Basic ${basicToken}`;\n  }\n}\n","import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {AuthService} from \"./auth.service\";\n\n@Injectable()\nexport class AuthTokenInterceptor implements HttpInterceptor {\n\n  constructor(\n    private auth: AuthService\n  ) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    if (!this.auth.isAuthenticated()) {\n      return next.handle(req);\n    }\n\n    const request = req.clone({\n      headers: req.headers.set('Authorization', this.getAccessTokenAuthorization())\n    });\n    console.log('HEADERS', request.headers);\n    return next.handle(request);\n  }\n\n  private getAccessTokenAuthorization(): string {\n    const accessToken = this.auth.getAccessToken();\n    return `Bearer ${accessToken}`;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService} from \"./auth.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private auth: AuthService,\n    private router: Router\n  ) {\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    if (this.auth.isAuthenticated()) {\n      return true;\n    }\n    return this.router.parseUrl(this.auth.loginUrl);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AuthService} from \"./auth.service\";\nimport {AuthGuard} from \"./auth.guard\";\nimport {HTTP_INTERCEPTORS} from \"@angular/common/http\";\nimport {AuthClientInterceptor} from \"./auth-client-interceptor\";\nimport {AuthTokenInterceptor} from \"./auth-token-interceptor\";\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n  ],\n  providers: [\n    AuthGuard,\n    AuthService,\n    AuthTokenInterceptor,\n    {provide: HTTP_INTERCEPTORS, useClass: AuthClientInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: AuthTokenInterceptor, multi: true}]\n})\nexport class AuthModule {\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {environment} from \"../../environments/environment\";\nimport {map, tap} from \"rxjs/operators\";\nimport {JwtHelperService} from \"@auth0/angular-jwt\";\nimport {of} from \"rxjs\";\n\nexport interface Token {\n  access_token: string,\n  token_type: string,\n  refresh_token: string,\n  expires_in: number,\n  scope: string,\n  jti: string\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private authConfig = environment.auth;\n  private redirectUrl = '/scheduler';\n  public loginUrl = '/login';\n\n  constructor(\n    private httpClient: HttpClient,\n    private helperService: JwtHelperService,\n  ) {\n  }\n\n  login(username: string, password: string) {\n    const {login} = this.authConfig.endpoint;\n    const payload = new FormData();\n    payload.append('username', username);\n    payload.append('password', password);\n    payload.append('grant_type', this.authConfig.grantType);\n    return this.httpClient.post<Token>(login, payload)\n      .pipe(map(token => {\n        this.saveToken(token);\n        const decoed = this.helperService.decodeToken();\n        setTimeout(_ => {\n          this.getValidToken();\n        }, token.expires_in)\n      }));\n  }\n\n  private saveToken({access_token, refresh_token}) {\n    sessionStorage.setItem('access_token', access_token);\n    sessionStorage.setItem('refresh_token', refresh_token);\n  }\n\n  getAccessToken() {\n    return sessionStorage.getItem('access_token');\n  }\n\n  logout() {\n    sessionStorage.clear();\n  }\n\n  isAuthenticated() {\n    console.log('IS AUTHENTICATED',\n      this.helperService.tokenGetter(),\n      this.helperService.isTokenExpired(),\n      this.helperService.decodeToken()\n    );\n    return !!this.helperService.tokenGetter() && !this.helperService.isTokenExpired();\n\n  }\n\n  getClaims() {\n    return this.helperService.decodeToken();\n  }\n\n  redirectAfterLogin() {\n    location.href = this.redirectUrl;\n  }\n\n  getValidToken() {\n    const {login} = this.authConfig.endpoint;\n    if (this.helperService.isTokenExpired()) {\n      return this.httpClient.post<Token>(login, {'grant_type': 'refresh_token'})\n        .pipe(\n          tap(token => this.saveToken(token)),\n          map(({access_token}) => access_token)\n        );\n    }\n    return of(this.getAccessToken());\n  }\n\n  // hasRole(role:string): boolean{\n  //\n  // }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\nconst hostAddress = 'http://localhost:8080';\nexport const environment = {\n  production: false,\n  hostAddress: `${hostAddress}`,\n  auth: {\n    endpoint: {\n      login: `${hostAddress}/oauth/token`,\n      singup: `${hostAddress}/singup`\n    },\n    clientId: 'scheduler-my-awesome-id',\n    clientSecret: 'scheduler-my-super-secret-key',\n    grantType: 'password'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\nimport 'zone.js/dist/zone-error'; // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}